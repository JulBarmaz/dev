!function(m,u,c){"use strict";function n(){}var s,r,e,l,d,p,o=function(){for(var e,t={},n=m.documentElement,o=m.createElement("input"),a=m.createElement("select"),i=m.createElement("textarea"),l={},r={},s=(t.attributes=function(t){for(var e=0,a=t.length;e<a;e++)r[t[e]]=!!(t[e]in o);return r}("max min multiple pattern required step".split(" ")),t.inputtypes=function(t){for(var e,a,i,r=0,s=t.length;r<s;r++)o.setAttribute("type",a=t[r]),(e="text"!==o.type)&&(o.value=":)",o.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(a)&&o.style.WebkitAppearance!==c?(n.appendChild(o),e=(i=m.defaultView).getComputedStyle&&"textfield"!==i.getComputedStyle(o,null).WebkitAppearance&&0!==o.offsetHeight,n.removeChild(o)):/^(search|tel)$/.test(a)||(e=/^(url|email)$/.test(a)?o.checkValidity&&!1===o.checkValidity():":)"!==o.value)),l[t[r]]=!!e;return l}("search tel url email datetime date month week time datetime-local number range color".split(" ")),"text password radio checkbox".split(" ")),u=0,d=s.length;u<d;u++){e=o;try{e.setAttribute("type",s[u])}catch(t){e=m.createElement('<input type="'+s[u]+'">')}e.style.cssText="position:absolute;visibility:hidden;",t.inputtypes[s[u]]=!!e.checkValidity}return t.inputtypes.select=!!a.checkValidity,t.inputtypes.textarea=!!i.checkValidity,e=o=null,t}(),f=(e={isoDate:/^(\d{4})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/},l=/(\/|\-|\.)/g,d=/\/|\-|\./g,p={dd:"(0[1-9]|[12][0-9]|3[01])",mm:"(0[1-9]|1[012])",yyyy:"(\\d{4})"},{formatISODate:function(t,e){function a(t){return t<10?"0"+t:t}var i=a(t.getDate()),r=a(t.getMonth()+1),t=t.getFullYear();return(e.getAttribute("data-format")||u.fn.validatr.defaultOptions.dateFormat).replace("mm",r).replace("yyyy",t).replace("dd",i)},parseDate:function(t){var e=(r=t.getAttribute("data-format")||u.fn.validatr.defaultOptions.dateFormat).split(d),a=t.value.split(d),i="yyyy-mm-dd".split("-"),r=r.replace(l,"\\$1").replace("yyyy",p.yyyy).replace("mm",p.mm).replace("dd",p.dd),s=-1,n=i.length,o=[];if(!(r=new RegExp(r)).test(t.value))return!1;for(;++s<n;)o[s]=a[function(t,e){for(var a=-1,i=t?t.length:0;++a<i;)if(t[a]===e)return a;return-1}(e,i[s])];return E(o.join("-"))},parseISODate:E}),h=(s={color:/^#[0-9A-F]{6}$/i,email:/^[a-zA-Z0-9.!#$%&â€™*+\/=?\^_`{|}~\-]+@[a-zA-Z0-9\-]+(?:\.[a-zA-Z0-9\-]+)*$/,isoDate:/^(\d{4})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/,number:/^-?\d*\.?\d*$/,time:/^([01][0-9]|2[0-3])(:([0-5][0-9])){2}$/,url:/^\s*https?:\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?\s*$/},{checkbox:function(t){return{valid:t.checked,message:u.validatr.messages.checkbox}},color:function(t){return{valid:s.color.test(t.value),message:u.validatr.messages.color}},date:function(t){var e=u(t),a=o.inputtypes.date?f.parseISODate(t.value):f.parseDate(t),i=!!e.attr("min")&&f.parseISODate(e.attr("min")),e=!!e.attr("max")&&f.parseISODate(e.attr("max"));return w.call(t,a,i,e,!1,"date")},email:function(t){var e,a=!0,i=u.validatr.messages.email.single;return(o.attributes.multiple?t.multiple:u(t).is("[multiple]"))?(e=t.value.split(r.spaces),u.each(e,function(t,e){s.email.test(e)||(a=!1,i=u.validatr.messages.email.multiple)})):a=s.email.test(t.value),{valid:a,message:i}},number:function(t){var e=t.value.replace(",",""),a=(!s.number.test(e)||parseFloat(e),!!s.number.test(t.getAttribute("min"))&&parseFloat(t.getAttribute("min"))),i=!!s.number.test(t.getAttribute("max"))&&parseFloat(t.getAttribute("max")),r=s.number.test(t.getAttribute("step"))?parseFloat(t.getAttribute("step")):"any"===t.getAttribute("step")&&"any";return w.call(t,e,a,i,r=!1===r||r<=0?1:r,"number")},pattern:function(t){return{valid:new RegExp(t.getAttribute("pattern")).test(t.value),message:u.validatr.messages.pattern}},radio:function(t){return{valid:u(m.getElementsByName(t.name)).is(":checked"),message:u.validatr.messages.radio}},range:function(t){return this.number(t)},required:function(t){return r.boxes.test(t.type)?this[t.type](t):{valid:!!t.value.length,message:"select"===t.nodeName.toLowerCase()?u.validatr.messages.select:u.validatr.messages.required}},time:function(t){return{valid:s.time.test(t.value),message:u.validatr.messages.time}},url:function(t){return{valid:s.url.test(t.value),message:u.validatr.messages.url}}}),v={as:function(t){if("text"!==t.type)throw new Error("element must have a type of text");var e=t.getAttribute("data-as");if(h[e])return h[e](t)},match:function(t){var e=t.getAttribute("data-match"),a=m.getElementById(e)||m.getElementsByName(e)[0];return a?(u(a).off("valid.validatrinput").on("valid.validatrinput",function(){t.value===a.value&&A(t)}),{valid:t.value===a.value,message:"'"+t.name+"' does not equal '"+a.name+"'"}):{valid:!1,message:"'"+e+"' can not be found"}}},g={boxes:/checkbox|radio/i,leftright:/left|right/i,notInput:/select|textarea/i,topbottom:/top|bottom/i},a=[16,17,18,19,20,33,34,35,36,37,39],y={bootstrap:"alert alert-error",jqueryui:"ui-state-error ui-corner-all"},b={color:"#f0444d",backgroundColor:"#ffcbcb",border:"1px solid #e4a6af",padding:"2px 6px",borderRadius:"2px"},x=!(r={boxes:/checkbox|radio/i,spaces:/,\s*/});function w(t,e,a,i,r){var s=!0,n=u.validatr.messages.range.base,o=e,l=a;return"date"===r&&(o=e&&f.formatISODate(e,this),l=a&&f.formatISODate(a,this)),!1!==t&&(!1!==i&&(s="any"===i||(t-e)%i==0,n=u.validatr.messages.range.invalid),s&&(!1!==e&&!1!==a?(s=e<=t&&t<=a,n=u.validatr.messages.range.overUnder):!1!==e?(s=e<=t,n=u.validatr.messages.range.overflow):!1!==a&&(s=t<=a,n=u.validatr.messages.range.underflow))),{valid:!1!==t&&s,message:n.replace("{{type}}",r).replace("{{min}}",o).replace("{{max}}",l)}}function E(t){return!!e.isoDate.test(t)&&(t=e.isoDate.exec(t),new Date(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10)))}function i(t){var e=t.target,t=u(e);"select"===e.nodeName.toLowerCase()&&t.on("change.validatrinput",function(){setTimeout(function(){A(e)},1)}),t.on({"blur.validatrinput":function(){A(e)},"keyup.validatrinput":function(t){e.value.length&&-1===u.inArray(a,t.keyCode)&&A(e)}})}function k(t){u(t.target).off(".validatrinput")}function A(t){"radio"===t.type&&(a=u(m.getElementsByName(t.name)).filter("[required]")).length&&(t=a[0]);var e=u(t),a=g.notInput.test(t.nodeName)?t.nodeName.toLowerCase():t.getAttribute("type"),i=o.attributes.required?t.required:u(t).is("[required]"),r={valid:!0,message:""};if(o.inputtypes[a]?(r.valid=t.validity.valid,r.message=t.validationMessage):(r=i?h.required(t):r).valid&&t.value.length&&!g.boxes.test(a)&&(t.pattern&&(a="pattern"),h[a]&&(r=h[a](t))),r.valid)for(var s in v)if(v.hasOwnProperty(s)&&e.is("[data-"+s+"]")&&!(r=v[s](t)).valid)break;return r.valid?(e.trigger("valid"),!0):(u.data(t,"validationMessage",r.message),e.trigger("invalid"),!1)}function q(t){var a=!0;return t.each(function(t,e){A(e)||(a=!1)}),a}function S(){this.isSubmit=!0,$.call(this);var t=q(this.formElements);return t?this.options.valid.call(this.el,this.el):(function(){this.formElements.on({"focus.validatrelement":i,"blur.validatrelement":k}),u("input[type=radio], input[type=checkbox]").on("click.validatrelement",function(t){A(t.target)})}.call(this),this.isSubmit=!1,t)}function $(){!function(){this.formElements.off(".validatrelement")}.call(this),this.firstError=!1,this.formElements.next(".validatr-message").remove()}function D(t){var e,a,i;x||(t.preventDefault(),i=t.target,e=u(i),a=this.options,i=i.getAttribute("data-message")||u.data(i,"validationMessage"),i=u(this.template.replace("{{message}}",i)),this.isSubmit&&!this.firstError?(this.firstError=e.after(i),a.position.call(this,i,e)):this.isSubmit&&!a.showall||(P(t),e.after(i),a.position.call(this,i,e)))}function P(t){x||u(t.target).next(".validatr-message").remove()}n.prototype={addTest:function(t){var e="string"!=typeof t,a=Array.prototype.slice.call(arguments,1)[0];if(e)u.extend(v,t);else{if(!a)throw new Error("You must include a callback function");v[t]=a}},getElements:function(t){var e;return this.formElements||(e=u(t).map(function(){return u.makeArray(this.elements)}).not("fieldset, button, input[type=submit], input[type=button], input[type=reset]"),t.id?e.add(u('[form="'+t.id+'"]')):e)},validateElement:function(t){if(!t)throw new Error("method requires an element");x=!0;t=A(t[0]||t);return x=!1,t},validateForm:function(t){var t=this.el||(t instanceof jQuery?t[0]:t);if("form"!==t.nodeName.toLowerCase())throw new Error("you must pass a form to this method");return x=!0,t=q(this.formElements||this.getElements(t)),x=!1,t}},u.fn.validatr=function(e){var a,t,i="string"==typeof e,r=Array.prototype.slice.call(arguments,1),s=this;return i?this.each(function(){var t;if(!(a=u.data(this,"validatr")))throw new Error("cannot call methods on validatr prior to initialization; attempted to call method '"+e+"'");if(!u.isFunction(a[e]))throw new Error("no such method '"+e+"' for validatr instance");if((t=a[e].apply(a,r))!==a&&t!==c)return s=t&&t.jquery?s.pushStack(t.get()):t,!1}):this.each(function(){(a=u.data(this,"validatr"))||(t=new n,function(t,e){if(this.el=t,this.$el=u(t),!this.$el.length||!this.$el.is("form"))throw new Error("validatr needs a form to work.");this.isSubmit=!1,this.firstError=!1,this.options=u.extend({},u.fn.validatr.defaultOptions,e),this.template=(t=this.options,e=u(t.template).addClass("validatr-message"),t.theme.length?e.addClass(y[t.theme]||t.theme):e.css(b),e[0].outerHTML),this.option=function(t,e){return arguments.length?e===c?this.options[t]===c?null:this.options[t]:void(this.options[t]=e):u.extend({},this.options)},this.formElements=this.getElements(this.el).on("valid.validatr",u.proxy(P,this)).on("invalid.validatr",u.proxy(D,this)),this.el.noValidate=!0,this.$el.on("submit.validatr",u.proxy(S,this)),this.$el.on("reset.validatr",u.proxy($,this))}.call(t,this,e||{}),u.data(this,"validatr",t))}),s},u.fn.validatr.defaultOptions={dateFormat:"yyyy-mm-dd",location:"right",position:function(t,e){t.css("position","absolute");var a=e.offset(),i=e[0].getAttribute("data-location")||this.options.location;g.topbottom.test(i)?(t.offset({left:a.left}),"top"===i&&t.offset({top:a.top-t.outerHeight()-2}),"bottom"===i&&t.offset({top:a.top+t.outerHeight()})):g.leftright.test(i)&&(t.offset({top:a.top+e.outerHeight()/2-t.outerHeight()/2}),"left"===i&&t.offset({left:a.left-t.outerWidth()-2}),"right"===i&&t.offset({left:a.left+e.outerWidth()+2}))},showall:!1,template:"<div>{{message}}</div>",theme:"",valid:u.noop},u.validatr=new n,u.validatr.messages={checkbox:"Please check this box if you want to proceed.",color:"Please enter a color in the format #xxxxxx",email:{single:"Please enter an email address.",multiple:"Please enter a comma separated list of email addresses."},pattern:"Please match the requested format.",radio:"Please select one of these options.",range:{base:"Please enter a {{type}}",overflow:"Please enter a {{type}} greater than or equal to {{min}}.",overUnder:"Please enter a {{type}} greater than or equal to {{min}}<br> and less than or equal to {{max}}.",invalid:"Invalid {{type}}",underflow:"Please enter a {{type}} less than or equal to {{max}}."},required:"Please fill out this field.",select:"Please select an item in the list.",time:"Please enter a time in the format hh:mm:ss",url:"Please enter a url."},u.validatr.debug=function(){if(!QUnit)throw new Error("QUnit is required for debugging");this.Support=o,this.Tests=h,this.CustomTests=v,this.Format=f},u.expr[":"].validatr=function(t){return!!u.data(t,"validatr")}}(this.document,jQuery);