!function(c){function L(t){b&&(t=t.touches[0].pageX,t=m-t,Math.abs(t)>=v.touchThreshold&&(z(),0<t?c.fancybox.next():c.fancybox.prev()))}function H(t){1==t.touches.length&&(m=t.touches[0].pageX,b=!0,this.addEventListener("touchmove",L,!1))}function r(){l.hide(),T.onerror=T.onload=null,j&&j.abort(),s.empty()}function h(){!1===v.onError(I,x,v)?(l.hide(),D=!1):(v.titleShow=!1,v.width="auto",v.height="auto",s.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),P())}function a(){var i,t,e,n,a,o,d=I[x];if(r(),v=c.extend({},c.fn.fancybox.defaults,void 0===c(d).data("fancybox")?v:c(d).data("fancybox")),!1===(o=v.onStart(I,x,v)))D=!1;else if(e=(v="object"==typeof o?c.extend(v,o):v).title||(d.nodeName?c(d).attr("title"):d.title)||"",d.nodeName&&!v.orig&&(v.orig=c(d).children("img:first").length?c(d).children("img:first"):c(d)),""===e&&v.orig&&v.titleFromAlt&&(e=v.orig.attr("alt")),i=v.href||(d.nodeName?c(d).attr("href"):d.href)||null,!/^(?:javascript)/i.test(i)&&"#"!=i||(i=null),v.type?(t=v.type,i=i||v.content):v.content?t="html":i&&(t=i.match(E)?"image":i.match(M)?"swf":c(d).hasClass("iframe")?"iframe":0===i.indexOf("#")?"inline":"ajax"),t)switch("inline"==t&&(d=i.substr(i.indexOf("#")),t=0<c(d).length?"inline":"ajax"),v.type=t,v.href=i,v.title=e,v.autoDimensions&&("html"==v.type||"inline"==v.type||"ajax"==v.type?(v.width="auto",v.height="auto"):v.autoDimensions=!1),v.modal&&(v.overlayShow=!0,v.hideOnOverlayClick=!1,v.hideOnContentClick=!1,v.enableEscapeButton=!1,v.showCloseButton=!1),v.padding=parseInt(v.padding,10),v.margin=parseInt(v.margin,10),s.css("padding",v.padding+v.margin),c(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){c(this).replaceWith(f.children())}),t){case"html":s.html(v.content),P();break;case"inline":!0===c(d).parent().is("#fancybox-content")?D=!1:(c('<div class="fancybox-inline-tmp" />').hide().insertBefore(c(d)).bind("fancybox-cleanup",function(){c(this).replaceWith(f.children())}).bind("fancybox-cancel",function(){c(this).replaceWith(s.children())}),c(d).appendTo(s),P());break;case"image":D=!1,c.fancybox.showActivity(),(T=new Image).onerror=function(){h()},T.onload=function(){D=!0,T.onerror=T.onload=null,v.width=T.width,v.height=T.height,c("<img />").attr({id:"fancybox-img",src:T.src,alt:v.title}).appendTo(s),R()},T.src=i;break;case"swf":v.scrolling="no",n='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+v.width+'" height="'+v.height+'"><param name="movie" value="'+i+'"></param>',a="",c.each(v.swf,function(t,e){n+='<param name="'+t+'" value="'+e+'"></param>',a+=" "+t+'="'+e+'"'}),n+='<embed src="'+i+'" type="application/x-shockwave-flash" width="'+v.width+'" height="'+v.height+'"'+a+"></embed></object>",s.html(n),P();break;case"ajax":D=!1,c.fancybox.showActivity(),v.ajax.win=v.ajax.success,j=c.ajax(c.extend({},v.ajax,{url:i,data:v.ajax.data||{},error:function(t,e,n){0<t.status&&h()},success:function(t,e,n){if(200==("object"==typeof n?n:j).status){if("function"==typeof v.ajax.win){if(!1===(o=v.ajax.win(i,t,e,n)))return void l.hide();"string"!=typeof o&&"object"!=typeof o||(t=o)}s.html(t),P()}}}));break;case"iframe":R()}else h()}function o(){var t,e=(i=navigator.userAgent).match(/(iPhone|iPod|iPad)/),n=i.match(/Android/),i=i.match(/BlackBerry/);return e||n||i?(e=void 0!==window.innerWidth?(t=window.innerWidth-k.margin,window.innerHeight-k.margin):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(t=document.documentElement.clientWidth-k.margin,document.documentElement.clientHeight-k.margin):(t=document.getElementsByTagName("body")[0].clientWidth-k.margin,document.getElementsByTagName("body")[0].clientHeight-k.margin),[t-k.margin,e-k.margin,c(document).scrollLeft()+k.margin,c(document).scrollTop()+k.margin]):[c(window).width()-2*k.margin,c(window).height()-2*k.margin,c(document).scrollLeft()+k.margin,c(document).scrollTop()+k.margin]}function W(){l.is(":visible")?(c("div",l).css("top",-40*S+"px"),S=(S+1)%12):clearInterval(t)}var s,l,n,i,e,f,d,p,g,u,m,b,t,y,w,x=0,v={},I=[],C=0,k={},O=[],j=null,T=new Image,E=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,M=/[^\.]\.(swf)\s*$/i,S=1,A=0,B="",D=!1,F=c.extend(c("<div/>")[0],{prop:0}),N=navigator.userAgent.match(/msie [6]/i)&&!window.XMLHttpRequest,z=function(){this.removeEventListener("touchmove",L),m=null,b=!1},P=function(){var t=v.width,e=v.height,t=-1<t.toString().indexOf("%")?parseInt((c(window).width()-2*v.margin)*parseFloat(t)/100,10)+"px":"auto"==t?"auto":t+"px",e=-1<e.toString().indexOf("%")?parseInt((c(window).height()-2*v.margin)*parseFloat(e)/100,10)+"px":"auto"==e?"auto":e+"px",n=-1<(n=v.maxHeight).toString().indexOf("%")?parseInt((c(window).height()-2*v.margin)*parseFloat(n)/100,10)+"px":"auto"==n?"auto":n+"px";s.wrapInner('<div style="'+("auto"==n?"":"max-height:"+n)+";width:"+t+";height:"+e+";overflow: "+("auto"==v.scrolling?"auto":"yes"==v.scrolling?"scroll":"hidden")+';position:relative;"></div>'),v.width=s.width(),v.height=s.height(),R()},R=function(){var t,e;l.hide(),i.is(":visible")&&!1===k.onCleanup(O,C,k)?(c.event.trigger("fancybox-cancel"),D=!1):(D=!0,c(f.add(n)).unbind(),c(window).unbind("resize.fb scroll.fb"),c(document).unbind("keydown.fb"),i.is(":visible")&&"outside"!==k.titlePosition&&i.css("height",i.height()),O=I,C=x,(k=v).overlayShow?(n.css({"background-color":k.overlayColor,opacity:k.overlayOpacity,cursor:k.hideOnOverlayClick?"pointer":"auto",height:c(document).height(),width:c(document).width()}),n.is(":visible")||(N&&c("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),n.show())):n.hide(),w=Q(),X(),i.is(":visible")?(c(d.add(g).add(u)).hide(),t=i.position(),y={top:t.top,left:t.left,width:i.width(),height:i.height()},e=y.width==w.width&&y.height==w.height,f.fadeTo(k.changeFade,.3,function(){function t(){f.html(s.contents()).fadeTo(k.changeFade,1,K)}c.event.trigger("fancybox-change"),f.empty().removeAttr("filter").css({"border-width":k.padding,width:w.width-2*k.padding,height:v.autoDimensions?"auto":w.height-A-2*k.padding}),e?t():(F.prop=0,c(F).animate({prop:1},{duration:k.changeSpeed,easing:k.easingChange,step:q,complete:t}))})):(i.removeAttr("style"),f.css("border-width",k.padding),"elastic"==k.transitionIn?(y=$(),f.html(s.contents()),i.show(),k.opacity&&(w.opacity=0),F.prop=0,c(F).animate({prop:1},{duration:k.speedIn,easing:k.easingIn,step:q,complete:K})):("inside"==k.titlePosition&&0<A&&p.show(),f.css({width:w.width-2*k.padding,height:v.autoDimensions?"auto":w.height-A-2*k.padding}).html(s.contents()),i.css(w).fadeIn("none"==k.transitionIn?0:k.speedIn,K))))},X=function(){var t;if((B=k.title||"",A=0,p.empty().removeAttr("style").removeClass(),!1!==k.titleShow)&&((B=c.isFunction(k.titleFormat)?k.titleFormat(B,O,C,k):!(!(t=B)||!t.length)&&'<div id="fancybox-title-'+k.titlePosition+'">'+t+"</div>")&&""!==B))switch(p.addClass("fancybox-title-"+k.titlePosition).html(B).appendTo("body").show(),k.titlePosition){case"inside":p.css({width:w.width-2*k.padding,marginLeft:k.padding,marginRight:k.padding}),A=p.outerHeight(!0),p.appendTo(e),w.height+=A;break;case"over":p.css({marginLeft:k.padding,width:w.width-2*k.padding,bottom:k.padding}).appendTo(e);break;case"float":p.css("left",-1*parseInt((p.width()-w.width-40)/2,10)).appendTo(i);break;default:p.css({width:w.width-2*k.padding,paddingLeft:k.padding,paddingRight:k.padding}).appendTo(i)}p.hide()},K=function(){var t,e;c.support.opacity||(f.css("filter",0),i.css("filter",0)),v.autoDimensions&&f.css("height","auto"),i.css("height","auto"),B&&B.length&&p.show(),k.showCloseButton&&d.show(),(k.enableEscapeButton||k.enableKeyboardNav)&&c(document).bind("keydown.fb",function(t){27==t.keyCode&&k.enableEscapeButton?(t.preventDefault(),c.fancybox.close()):37!=t.keyCode&&39!=t.keyCode||!k.enableKeyboardNav||"INPUT"===t.target.tagName||"TEXTAREA"===t.target.tagName||"SELECT"===t.target.tagName||(t.preventDefault(),c.fancybox[37==t.keyCode?"prev":"next"]())}),k.showNavArrows?((k.cyclic&&1<O.length||0!==C)&&g.show(),(k.cyclic&&1<O.length||C!=O.length-1)&&u.show()):(g.hide(),u.hide()),k.hideOnContentClick&&f.bind("click",c.fancybox.close),k.hideOnOverlayClick&&n.bind("click",c.fancybox.close),c(window).bind("resize.fb",c.fancybox.resize),k.centerOnScroll&&c(window).bind("scroll.fb",c.fancybox.center),"iframe"==k.type&&c('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(c.browser.msie?'allowtransparency="true""':"")+' scrolling="'+v.scrolling+'" src="'+k.href+'"></iframe>').appendTo(f),i.show(),D=!1,c.fancybox.center(),k.onComplete(O,C,k),O.length-1>C&&(void 0!==(t=O[C+1].href)&&t.match(E)&&((e=new Image).src=t));0<C&&void 0!==(t=O[C-1].href)&&t.match(E)&&((e=new Image).src=t)},q=function(t){var e={width:parseInt(y.width+(w.width-y.width)*t,10),height:parseInt(y.height+(w.height-y.height)*t,10),top:parseInt(y.top+(w.top-y.top)*t,10),left:parseInt(y.left+(w.left-y.left)*t,10)};void 0!==w.opacity&&(e.opacity=t<.5?.5:t),i.css(e),f.css({width:e.width-2*k.padding,height:e.height-A*t-2*k.padding})},Q=function(){var t=o(),e={},n=k.autoScale,i=2*k.padding;return-1<k.width.toString().indexOf("%")?e.width=parseInt(t[0]*parseFloat(k.width)/100,10):e.width=k.width+i,-1<k.height.toString().indexOf("%")?e.height=parseInt(t[1]*parseFloat(k.height)/100,10):e.height=k.height+i,n&&(e.width>t[0]||e.height>t[1])&&("image"==v.type||"swf"==v.type?(n=k.width/k.height,e.width>t[0]&&(e.width=t[0],e.height=parseInt((e.width-i)/n+i,10)),e.height>t[1]&&(e.height=t[1],e.width=parseInt((e.height-i)*n+i,10))):(e.width=Math.min(e.width,t[0]),e.height=Math.min(e.height,t[1]))),e.top=parseInt(Math.max(t[3]-20,t[3]+.5*(t[1]-e.height-40)),10),e.left=parseInt(Math.max(t[2]-20,t[2]+.5*(t[0]-e.width-40)),10),e},$=function(){var t,e=!!v.orig&&c(v.orig);return e&&e.length?((t=(e=e).offset()).top+=parseInt(e.css("paddingTop"),10)||0,t.left+=parseInt(e.css("paddingLeft"),10)||0,t.top+=parseInt(e.css("border-top-width"),10)||0,t.left+=parseInt(e.css("border-left-width"),10)||0,t.width=e.width(),t.height=e.height(),{width:(e=t).width+2*k.padding,height:e.height+2*k.padding,top:e.top-k.padding-20,left:e.left-k.padding-20}):(t=o(),{width:2*k.padding,height:2*k.padding,top:parseInt(t[3]+.5*t[1],10),left:parseInt(t[2]+.5*t[0],10)})};c.fn.fancybox=function(n){return c(this).length&&c(this).data("fancybox",c.extend({},n,c.metadata?c(this).metadata():{})).unbind("click.fb").bind("click.fb",function(t){var e;t.preventDefault(),D||(D=!0,c(this).blur(),I=[],x=0,(t=n.rel||c.fn.fancybox.defaults.rel)&&""!=t&&((e=c(this).attr(t)||"")&&""!=e&&"nofollow"!==e?(I=c("a["+t+"="+e+"], area["+t+"="+e+"]"),x=I.index(this)):I.push(this)),a())}),this},c.fancybox=function(t){var e;if(!D){if(D=!0,e=void 0!==arguments[1]?arguments[1]:{},I=[],x=parseInt(e.index,10)||0,c.isArray(t)){for(var n=0,i=t.length;n<i;n++)"object"==typeof t[n]?c(t[n]).data("fancybox",c.extend({},e,t[n])):t[n]=c({}).data("fancybox",c.extend({content:t[n]},e));I=jQuery.merge(I,t)}else"object"==typeof t?c(t).data("fancybox",c.extend({},e,t)):t=c({}).data("fancybox",c.extend({content:t},e)),I.push(t);(x>I.length||x<0)&&(x=0),a()}},c.fancybox.showActivity=function(){clearInterval(t),l.show(),t=setInterval(W,66)},c.fancybox.hideActivity=function(){l.hide()},c.fancybox.next=function(){return c.fancybox.pos(C+1)},c.fancybox.prev=function(){return c.fancybox.pos(C-1)},c.fancybox.pos=function(t){D||(t=parseInt(t),I=O,-1<t&&t<O.length?(x=t,a()):k.cyclic&&1<O.length&&(x=t>=O.length?0:O.length-1,a()))},c.fancybox.cancel=function(){D||(D=!0,c.event.trigger("fancybox-cancel"),r(),v.onCancel(I,x,v),D=!1)},c.fancybox.close=function(){var t;function e(){n.fadeOut("fast"),p.empty().hide(),i.hide(),c.event.trigger("fancybox-cleanup"),f.empty(),k.onClosed(O,C,k),O=v=[],C=x=0,k=v={},D=!1}D||i.is(":hidden")||(D=!0,k&&!1===k.onCleanup(O,C,k)?D=!1:(r(),c(d.add(g).add(u)).hide(),c(f.add(n)).unbind(),c(window).unbind("resize.fb scroll.fb"),c(document).unbind("keydown.fb"),f.find("iframe").attr("src",N&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==k.titlePosition&&p.empty(),i.stop(),"elastic"==k.transitionOut?(y=$(),t=i.position(),w={top:t.top,left:t.left,width:i.width(),height:i.height()},k.opacity&&(w.opacity=1),p.empty().hide(),F.prop=1,c(F).animate({prop:0},{duration:k.speedOut,easing:k.easingOut,step:q,complete:e})):i.fadeOut("none"==k.transitionOut?0:k.speedOut,e)))},c.fancybox.resize=function(){n.is(":visible")&&n.css("height",c(document).height()),c.fancybox.center(!0)},c.fancybox.center=function(){var t,e;D||(e=!0===arguments[0]?1:0,t=o(),!e&&(i.width()>t[0]||i.height()>t[1])||i.stop().animate({top:parseInt(Math.max(t[3]-20,t[3]+.5*(t[1]-f.height()-40)-k.padding)),left:parseInt(Math.max(t[2]-20,t[2]+.5*(t[0]-f.width()-40)-k.padding))},"number"==typeof arguments[0]?arguments[0]:200))},c.fancybox.init=function(){c("#fancybox-wrap").length||(c("body").append(s=c('<div id="fancybox-tmp" class="fancybox-content"></div>'),l=c('<div id="fancybox-loading"><div></div></div>'),n=c('<div id="fancybox-overlay"></div>'),i=c('<div id="fancybox-wrap"></div>')),e=c('<div id="fancybox-outer"></div>').appendTo(i),g=c('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),u=c('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>'),e.append(f=c('<div id="fancybox-content" class="fancybox-content"></div>'),d=c('<a id="fancybox-close"></a>'),p=c('<div id="fancybox-title"></div>')),"ontouchstart"in document.documentElement?f[0].addEventListener("touchstart",H,!1):e.append(g,u),d.click(c.fancybox.close),l.click(c.fancybox.cancel),g.click(function(t){t.preventDefault(),c.fancybox.prev()}),u.click(function(t){t.preventDefault(),c.fancybox.next()}),c.fn.mousewheel&&i.bind("mousewheel.fb",function(t,e){D?t.preventDefault():0!=c(t.target).get(0).clientHeight&&c(t.target).get(0).scrollHeight!==c(t.target).get(0).clientHeight||(t.preventDefault(),c.fancybox[0<e?"prev":"next"]())}),c.support.opacity||i.addClass("fancybox-ie"),N&&(l.addClass("fancybox-ie6"),i.addClass("fancybox-ie6"),c('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(e)))},c.fn.fancybox.defaults={padding:5,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,maxHeight:"auto",rel:"rel",touchThreshold:30,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#BBB",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},c(document).ready(function(){c.fancybox.init()})}(jQuery);