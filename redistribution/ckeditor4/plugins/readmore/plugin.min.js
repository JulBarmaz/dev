CKEDITOR.plugins.add("readmore",{init:function(e){e.addCommand("addReadmore",CKEDITOR.plugins.addReadmoreCmd),e.ui.addButton("Readmore",{label:"Add ReadMore tag",command:"addReadmore",icon:this.path+"images/readmore.gif"})}}),CKEDITOR.addCss('hr#system-readmore {background: url("/redistribution/ckeditor4/plugins/readmore/images/readmore.png") repeat scroll 0 0 transparent; border: 0px none; height: 8px; margin: 0; padding: 0; }'),CKEDITOR.plugins.addReadmoreCmd={exec:function(e){if((myhtml=e.getData()).match(/<hr\s+id=(\"|')system-readmore(\"|')\s*\/*>/i))return alert("Readmore TAG alredy present!"),!1;e.fire("saveSnapshot"),(element=e.document.createElement("hr")).setAttribute("id","system-readmore"),e.insertElement(element),e.fire("saveSnapshot")}};