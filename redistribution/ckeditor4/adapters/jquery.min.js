!function(c){if(void 0===c)throw Error("jQuery should be loaded before CKEditor jQuery adapter.");if("undefined"==typeof CKEDITOR)throw Error("CKEditor should be loaded before CKEditor jQuery adapter.");CKEDITOR.config.jqueryOverrideVal=void 0===CKEDITOR.config.jqueryOverrideVal||CKEDITOR.config.jqueryOverrideVal,c.extend(c.fn,{ckeditorGet:function(){var e=this.eq(0).data("ckeditorInstance");if(e)return e;throw"CKEditor is not initialized yet, use ckeditor() with a callback."},ckeditor:function(d,n){var e,r,t;if(CKEDITOR.env.isCompatible)return c.isFunction(d)||(e=n,n=d,d=e),r=[],n=n||{},this.each(function(){var i=c(this),t=i.data("ckeditorInstance"),e=i.data("_ckeditorInstanceLock"),o=this,a=new c.Deferred;r.push(a.promise()),t&&!e?(d&&d.apply(t,[this]),a.resolve()):e?t.once("instanceReady",function(){setTimeout(function e(){t.element?(t.element.$==o&&d&&d.apply(t,[o]),a.resolve()):setTimeout(e,100)},0)},null,null,9999):((n.autoUpdateElement||void 0===n.autoUpdateElement&&CKEDITOR.config.autoUpdateElement)&&(n.autoUpdateElementJquery=!0),n.autoUpdateElement=!1,i.data("_ckeditorInstanceLock",!0),t=c(this).is("textarea")?CKEDITOR.replace(o,n):CKEDITOR.inline(o,n),i.data("ckeditorInstance",t),t.on("instanceReady",function(n){var r=n.editor;setTimeout(function e(){var t;r.element?(n.removeListener(),r.on("dataReady",function(){i.trigger("dataReady.ckeditor",[r])}),r.on("setData",function(e){i.trigger("setData.ckeditor",[r,e.data])}),r.on("getData",function(e){i.trigger("getData.ckeditor",[r,e.data])},999),r.on("destroy",function(){i.trigger("destroy.ckeditor",[r])}),r.on("save",function(){return c(o.form).submit(),!1},null,null,20),r.config.autoUpdateElementJquery&&i.is("textarea")&&c(o.form).length&&(t=function(){i.ckeditor(function(){r.updateElement()})},c(o.form).submit(t),c(o.form).bind("form-pre-serialize",t),i.bind("destroy.ckeditor",function(){c(o.form).unbind("submit",t),c(o.form).unbind("form-pre-serialize",t)})),r.on("destroy",function(){i.removeData("ckeditorInstance")}),i.removeData("_ckeditorInstanceLock"),i.trigger("instanceReady.ckeditor",[r]),d&&d.apply(r,[o]),a.resolve()):setTimeout(e,100)},0)},null,null,9999))}),t=new c.Deferred,this.promise=t.promise(),c.when.apply(this,r).then(function(){t.resolve()}),this.editor=this.eq(0).data("ckeditorInstance"),this;throw Error("The environment is incompatible.")}}),CKEDITOR.config.jqueryOverrideVal&&(c.fn.val=CKEDITOR.tools.override(c.fn.val,function(a){return function(r){var e,i,t,n,o;return arguments.length?(i=[],n=(e=this).each(function(){var e,t=c(this),n=t.data("ckeditorInstance");return t.is("textarea")&&n?(e=new c.Deferred,n.setData(r,function(){e.resolve()}),i.push(e.promise()),!0):a.call(t,r)}),i.length?(t=new c.Deferred,c.when.apply(this,i).done(function(){t.resolveWith(e)}),t.promise()):n):(o=(n=c(this).eq(0)).data("ckeditorInstance"),n.is("textarea")&&o?o.getData():a.call(n))}}))}(window.jQuery);